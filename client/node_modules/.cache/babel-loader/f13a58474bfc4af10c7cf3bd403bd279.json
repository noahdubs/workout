{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/** Used for timestamps in milliseconds. Read more [here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now) */\n\nexports.now = function () {\n  return Date.now();\n};\n/** Used to measure frame length. Read more [here](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) */\n\n\nexports.performanceNow = function () {\n  return performance.now();\n};\n/** Provide custom color names for interpolation */\n\n\nexports.colorNames = null;\n/** Make all animations instant and skip the frameloop entirely */\n\nexports.skipAnimation = false;\n/** Intercept props before they're passed to an animated component */\n\nexports.getComponentProps = function (props) {\n  return props;\n};\n/** Wrap the `style` prop with an animated node */\n\n\nexports.createAnimatedStyle = null;\n/** Wrap the `transform` prop with an animated node */\n\nexports.createAnimatedTransform = null;\nexports.requestAnimationFrame = typeof window !== 'undefined' ? window.requestAnimationFrame : function () {\n  return -1;\n};\nexports.cancelAnimationFrame = typeof window !== 'undefined' ? window.cancelAnimationFrame : function () {};\n\nexports.assign = function (globals) {\n  var _a;\n\n  return _a = Object.assign({\n    to: exports.to,\n    now: exports.now,\n    frameLoop: exports.frameLoop,\n    colorNames: exports.colorNames,\n    skipAnimation: exports.skipAnimation,\n    defaultElement: exports.defaultElement,\n    performanceNow: exports.performanceNow,\n    getComponentProps: exports.getComponentProps,\n    applyAnimatedValues: exports.applyAnimatedValues,\n    createStringInterpolator: exports.createStringInterpolator,\n    createAnimatedTransform: exports.createAnimatedTransform,\n    createAnimatedStyle: exports.createAnimatedStyle,\n    requestAnimationFrame: exports.requestAnimationFrame,\n    cancelAnimationFrame: exports.cancelAnimationFrame\n  }, pluckDefined(globals)), exports.to = _a.to, exports.now = _a.now, exports.frameLoop = _a.frameLoop, exports.colorNames = _a.colorNames, exports.skipAnimation = _a.skipAnimation, exports.defaultElement = _a.defaultElement, exports.performanceNow = _a.performanceNow, exports.getComponentProps = _a.getComponentProps, exports.applyAnimatedValues = _a.applyAnimatedValues, exports.createStringInterpolator = _a.createStringInterpolator, exports.createAnimatedTransform = _a.createAnimatedTransform, exports.createAnimatedStyle = _a.createAnimatedStyle, exports.requestAnimationFrame = _a.requestAnimationFrame, exports.cancelAnimationFrame = _a.cancelAnimationFrame, _a;\n}; // Ignore undefined values\n\n\nfunction pluckDefined(globals) {\n  var defined = {};\n\n  for (var key in globals) {\n    if (globals[key] !== undefined) defined[key] = globals[key];\n  }\n\n  return defined;\n}","map":{"version":3,"sources":["../src/globals.ts"],"names":[],"mappings":";;;;;AA+CA;;AACW,OAAA,CAAA,GAAA,GAAM,YAAA;AAAM,SAAA,IAAI,CAAJ,GAAA,EAAA;AAAU,CAAtB;AAIX;;;AACW,OAAA,CAAA,cAAA,GAAiB,YAAA;AAAM,SAAA,WAAW,CAAX,GAAA,EAAA;AAAiB,CAAxC;AAEX;;;AACW,OAAA,CAAA,UAAA,GAA+C,IAA/C;AAEX;;AACW,OAAA,CAAA,aAAA,GAAgB,KAAhB;AAEX;;AACW,OAAA,CAAA,iBAAA,GAAoB,UAAC,KAAD,EAAW;AAAK,SAAA,KAAA;AAAK,CAAzC;AAEX;;;AACW,OAAA,CAAA,mBAAA,GAAoD,IAApD;AAEX;;AACW,OAAA,CAAA,uBAAA,GAEA,IAFA;AAIA,OAAA,CAAA,qBAAA,GACT,OAAO,MAAP,KAAkB,WAAlB,GAAgC,MAAM,CAAC,qBAAvC,GAA+D,YAAA;AAAM,SAAA,CAAA,CAAA;AAAE,CAD9D;AAGA,OAAA,CAAA,oBAAA,GACT,OAAO,MAAP,KAAkB,WAAlB,GAAgC,MAAM,CAAC,oBAAvC,GAA8D,YAAA,CAAQ,CAD7D;;AAwBE,OAAA,CAAA,MAAA,GAAS,UAAC,OAAD,EAAyB;;;AAC7C,SAAC,EAAA,GAAA,MAAA,CAAA,MAAA,CAAA;kBAAA;oBAAA;gCAAA;kCAAA;wCAAA;0CAAA;0CAAA;gDAAA;oDAAA;8DAAA;4DAAA;oDAAA;wDAAA;;AAAA,GAAA,E,aAiCA,O,CAjCA,CAAA,EACC,OAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EADD,EAEC,OAAA,CAAA,GAAA,GAAA,EAAA,CAAA,GAFD,EAGC,OAAA,CAAA,SAAA,GAAA,EAAA,CAAA,SAHD,EAIC,OAAA,CAAA,UAAA,GAAA,EAAA,CAAA,UAJD,EAKC,OAAA,CAAA,aAAA,GAAA,EAAA,CAAA,aALD,EAMC,OAAA,CAAA,cAAA,GAAA,EAAA,CAAA,cAND,EAOC,OAAA,CAAA,cAAA,GAAA,EAAA,CAAA,cAPD,EAQC,OAAA,CAAA,iBAAA,GAAA,EAAA,CAAA,iBARD,EASC,OAAA,CAAA,mBAAA,GAAA,EAAA,CAAA,mBATD,EAUC,OAAA,CAAA,wBAAA,GAAA,EAAA,CAAA,wBAVD,EAWC,OAAA,CAAA,uBAAA,GAAA,EAAA,CAAA,uBAXD,EAYC,OAAA,CAAA,mBAAA,GAAA,EAAA,CAAA,mBAZD,EAaC,OAAA,CAAA,qBAAA,GAAA,EAAA,CAAA,qBAbD,EAcC,OAAA,CAAA,oBAAA,GAAA,EAAA,CAAA,oBAdD,EAcqB,EAdtB;AAiCE,CAlCS,C,CAoCb;;;AACA,SAAS,YAAT,CAAsB,OAAtB,EAAkC;AAChC,MAAM,OAAO,GAAQ,EAArB;;AACA,OAAK,IAAM,GAAX,IAAkB,OAAlB,EAA2B;AACzB,QAAI,OAAO,CAAC,GAAD,CAAP,KAAiB,SAArB,EAAgC,OAAO,CAAC,GAAD,CAAP,GAAe,OAAO,CAAC,GAAD,CAAtB;AACjC;;AACD,SAAO,OAAP;AACD","sourcesContent":["import {\n  InterpolatorConfig,\n  FrameRequestCallback,\n  InterpolatorArgs,\n  FluidValue,\n  OneOrMore,\n} from './types'\nimport { ElementType } from 'react'\n\ndeclare const window: {\n  requestAnimationFrame: (cb: (time: number) => void) => number\n  cancelAnimationFrame: (id: number) => void\n}\n\n//\n// Required\n//\n\nexport let defaultElement: string | ElementType\n\n/** Provide custom logic for native updates */\nexport let applyAnimatedValues: (node: any, props: any) => boolean | void\n\n/** Provide custom logic for string interpolation */\nexport let createStringInterpolator: (\n  config: InterpolatorConfig<string>\n) => (input: number) => string\n\n/** Provide a custom `FrameLoop` instance */\nexport let frameLoop: {\n  active: boolean\n  update: (time?: number) => boolean\n  onFrame(cb: FrameRequestCallback, next?: boolean): void\n  onWrite(cb: FrameRequestCallback): void\n  start(spring: any): void\n  stop(spring: any): typeof frameLoop\n}\n\n//\n// Optional\n//\n\nexport let to: <In, Out>(\n  source: OneOrMore<FluidValue>,\n  args: InterpolatorArgs<In, Out>\n) => FluidValue<Out>\n\n/** Used for timestamps in milliseconds. Read more [here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now) */\nexport let now = () => Date.now()\n\ndeclare const performance: { now: () => number }\n\n/** Used to measure frame length. Read more [here](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) */\nexport let performanceNow = () => performance.now()\n\n/** Provide custom color names for interpolation */\nexport let colorNames: { [key: string]: number } | null = null as any\n\n/** Make all animations instant and skip the frameloop entirely */\nexport let skipAnimation = false\n\n/** Intercept props before they're passed to an animated component */\nexport let getComponentProps = (props: any) => props\n\n/** Wrap the `style` prop with an animated node */\nexport let createAnimatedStyle: ((style: any) => any) | null = null as any\n\n/** Wrap the `transform` prop with an animated node */\nexport let createAnimatedTransform:\n  | ((transform: any) => any)\n  | null = null as any\n\nexport let requestAnimationFrame: typeof window.requestAnimationFrame =\n  typeof window !== 'undefined' ? window.requestAnimationFrame : () => -1\n\nexport let cancelAnimationFrame: typeof window.cancelAnimationFrame =\n  typeof window !== 'undefined' ? window.cancelAnimationFrame : () => {}\n\n//\n// Configuration\n//\n\nexport interface AnimatedGlobals {\n  to?: typeof to\n  now?: typeof now\n  frameLoop?: typeof frameLoop\n  colorNames?: typeof colorNames\n  skipAnimation?: typeof skipAnimation\n  defaultElement?: typeof defaultElement\n  performanceNow?: typeof performanceNow\n  getComponentProps?: typeof getComponentProps\n  applyAnimatedValues?: typeof applyAnimatedValues\n  createStringInterpolator?: typeof createStringInterpolator\n  createAnimatedTransform?: typeof createAnimatedTransform\n  createAnimatedStyle?: typeof createAnimatedStyle\n  requestAnimationFrame?: typeof requestAnimationFrame\n  cancelAnimationFrame?: typeof cancelAnimationFrame\n}\n\nexport const assign = (globals: AnimatedGlobals): AnimatedGlobals =>\n  ({\n    to,\n    now,\n    frameLoop,\n    colorNames,\n    skipAnimation,\n    defaultElement,\n    performanceNow,\n    getComponentProps,\n    applyAnimatedValues,\n    createStringInterpolator,\n    createAnimatedTransform,\n    createAnimatedStyle,\n    requestAnimationFrame,\n    cancelAnimationFrame,\n  } = Object.assign(\n    {\n      to,\n      now,\n      frameLoop,\n      colorNames,\n      skipAnimation,\n      defaultElement,\n      performanceNow,\n      getComponentProps,\n      applyAnimatedValues,\n      createStringInterpolator,\n      createAnimatedTransform,\n      createAnimatedStyle,\n      requestAnimationFrame,\n      cancelAnimationFrame,\n    },\n    pluckDefined(globals)\n  ))\n\n// Ignore undefined values\nfunction pluckDefined(globals: any) {\n  const defined: any = {}\n  for (const key in globals) {\n    if (globals[key] !== undefined) defined[key] = globals[key]\n  }\n  return defined\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}